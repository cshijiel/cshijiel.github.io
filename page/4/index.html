<!doctype html>



  


<html class="theme-next pisces use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Java,互联网,NodeJS" />





  <link rel="alternate" href="/atom.xml" title="Roc`s 随想录" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="关注技术趋势，服务端技术细节，Java语言，技术热点等，关注思维和最佳实践。">
<meta property="og:type" content="website">
<meta property="og:title" content="Roc`s 随想录">
<meta property="og:url" content="http://coderroc.com/page/4/index.html">
<meta property="og:site_name" content="Roc`s 随想录">
<meta property="og:description" content="关注技术趋势，服务端技术细节，Java语言，技术热点等，关注思维和最佳实践。">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Roc`s 随想录">
<meta name="twitter:description" content="关注技术趋势，服务端技术细节，Java语言，技术热点等，关注思维和最佳实践。">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"right","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 2079911,
      author: '博主大大'
    }
  };
</script>

  <title> Roc`s 随想录 </title>
  <script type="text/javascript">
  // 404 auto 
  (function(){
      var path = window.location.pathname;
      if (path.startsWith("/201")) {
        var targetPath = "/article" + path.substring(11, path.length-1) + ".html";
        window.location.href = targetPath;
      }
  })();
  </script>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?3d0b52366e3d42e3387d71167ae773c4";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>








  
  
    
  

  <div class="container one-collumn sidebar-position-right 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Roc`s 随想录</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">诚信，认真，专注，踏实</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/article/数学和算法/LeetCode/LeetCode-Two Sum.html" itemprop="url">
                  LeetCode-Two Sum
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-04-07T00:20:36+08:00" content="2015-04-07">
              2015-04-07
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/LeetCode/" itemprop="url" rel="index">
                    <span itemprop="name">LeetCode</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/article/数学和算法/LeetCode/LeetCode-Two Sum.html#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="article/数学和算法/LeetCode/LeetCode-Two Sum.html" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          
             <span id="/article/数学和算法/LeetCode/LeetCode-Two Sum.html" class="leancloud_visitors" data-flag-title="LeetCode-Two Sum">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>Given an array of integers, find two numbers such that they add up to<br>a specific target number.</p>
<p>The function twoSum should return indices of the two numbers such that<br>they add up to the target, where index1 must be less than index2.<br>Please note that your returned answers (both index1 and index2) are<br>not zero-based.</p>
<p>You may assume that each input would have exactly one solution.</p>
<p><strong>Input</strong>: numbers={2, 7, 11, 15}, target=9<br><strong>Output</strong>: index1=1, index2=2</p>
</blockquote>
<hr>
<h3 id="Accepted-Code："><a href="#Accepted-Code：" class="headerlink" title="Accepted Code："></a>Accepted Code：</h3><pre><code>public class Solution {      
    public int[] twoSum(int[] numbers, int target) {      
        int[] a = new int[2];      
        for (int i = 0; i &lt; numbers.length; i++) {      
            for (int j = i + 1; j &lt; numbers.length; j++) {      
                if (numbers[i] + numbers[j] == target) {      
                    a[0] = i + 1;      
                    a[1] = j + 1;
                    return a;      
                }      
            }      
        }      
        return a;      
    }
}
</code></pre><p>Problems:</p>
<ol>
<li>Time Limit Exceeded(超时)。</li>
</ol>
<p>Then:</p>
<pre><code>if (numbers[i] + numbers[j] == target) {
    a[0] = i + 1;
    a[1] = j + 1;
    return a;//this line is the Key Code.
}
</code></pre><p><strong>省略计算不必要的结果，得到正确结果立刻返回。</strong></p>
<hr>
<p>Other Solution:</p>
<blockquote>
<p>代码是其他语言。</p>
</blockquote>
<p>题目大意：给一个数组，找出其中是否有两个数之和等于给定的值。类似的还有3 sum ，4 sum ..等 K sum 问题。其实原理是差不多的，这样想：先取出一个数，那么我只要在剩下的数字里面找到两个数字使得他们的和等于(target – 那个取出的数)。</p>
<p><strong>解法1：先排序，然后从开头和结尾同时向中间查找，原理也比较简单。复杂度O(nlogn)</strong></p>
<pre><code>typedef struct Node{    
    int id,val;
}Node;

bool compare(const Node &amp;amp; a,const Node &amp;amp; b){    
    return a.val &lt; b.val;
}

class Solution {
    public:
    vector&lt;int&gt; twoSum(vector&lt;int&gt; &amp;amp;numbers, int target){

        Node nodes[numbers.size()];

        for(unsigned int i=0; i&lt;numbers.size(); i++){

        nodes[i].id = i+1;

        nodes[i].val = numbers[i];

    }
    sort(nodes, nodes+numbers.size(), compare);
    int start=0,end=numbers.size()-1;
    vector&lt;int&gt; ans;
    while(start &lt; end){

        if(nodes[start].val + nodes[end].val == target){

        if(nodes[start].id &gt; nodes[end].id)

        swap(nodes[start].id , nodes[end].id);

        ans.push_back(nodes[start].id);

        ans.push_back(nodes[end].id);

        return ans;

        }else if( nodes[start].val + nodes[end].val &lt;target ){        
            start++;        
        } else        
            end--;
        }
    }
};
</code></pre><p><strong>解法2：使用HashMap。把每个数都存入map中，任何再逐个遍历，查找是否有 target – nubmers[i]。 时间复杂度 O(n)</strong></p>
<pre><code>vector&lt;int&gt; twoSum(vector&lt;int&gt; &amp;numbers, int target) {
        // Start typing your C/C++ solution below
        // DO NOT write int main() function
        vector&lt;int&gt; res;
        int length = numbers.size();
        map&lt;int,int&gt; mp;
        for(int i = 0; i &lt; length; ++i)
            mp[numbers[i]] = i;
        map&lt;int,int&gt;::iterator it = mp.end();
        for(int i = 0; i &lt; length; ++i) {
            it = mp.find(target - numbers[i]);
            if(it != mp.end()) {
                res.push_back(min(i+1,it-&gt;second +1));
                res.push_back(max(i+1,it-&gt;second +1));
                break;
            }
        }
        return res;
}
</code></pre><p>其实可以优化一下，因为题目只要求要到一个解，找到后即可返回。</p>
<pre><code>vector&lt;int&gt; twoSum(vector&lt;int&gt; &amp;numbers, int target) {
        vector&lt;int&gt; res;
        int length = numbers.size();
        map&lt;int,int&gt; mp;
        int find;
        for(int i = 0; i &lt; length; ++i){
            find=mp[target - numbers[i]];
            if( find ){
                res.push_back(find);
                res.push_back(i+1);
                break;
            }
            mp[numbers[i]] = i+1;
        }
        return res;
}
</code></pre><hr>
<p>Java 版本解法：</p>
<p>Two Sum</p>
<p>Given an array of integers, find two numbers such that they add up to a specific target number.</p>
<p>The function twoSum should return indices of the two numbers such that they add up to the target, where index1 must be less than index2. Please note that your returned answers (both index1 and index2) are not zero-based.</p>
<p>You may assume that each input would have exactly one solution.</p>
<p>思路：</p>
<p>先把原数组复制一遍，然后进行排序。在排序后的数组中找这两个数。最后再在原数组中找这两个数字的index即可。</p>
<p>时间复杂度O(nlogn)+O(n)+O(n) = O(nlogn)</p>
<p>注意的是结果有可能是两个数是相同的，比如 0 3 4 0, 0要返回1和4，不要返回成1和1或者4和4.</p>
<p>代码：</p>
<pre><code>public int[] twoSum(int[] numbers, int target) {
    // Start typing your Java solution below
    // DO NOT write main() function
    // Copy the original array and sort it
    int N = numbers.length;
    int[] sorted = new int[N];
    System.arraycopy(numbers, 0, sorted, 0, N);
    Arrays.sort(sorted);
    // find the two numbers using the sorted arrays
    int first = 0;
    int second = sorted.length - 1;
    while (first &lt; second) {

        if (sorted[first] + sorted[second] &lt; target) {

            first++;

            continue;

        }

        else if (sorted[first] + sorted[second] &gt; target) {

            second--;

            continue;

        }

        else
            break;
    }
    int number1 = sorted[first];
    int number2 = sorted[second];
    // Find the two indexes in the original array
    int index1 = -1, index2 = -1;
    for (int i = 0; i &lt; N; i++) {

        if ((numbers[i] == number1) || (numbers[i] == number2)) {

            if (index1 == -1)

                index1 = i + 1;

            else

                index2 = i + 1;

        }

    }
    int[] result = new int[] { index1, index2 };
    Arrays.sort(result);
    return result;
}
</code></pre><p>还有个无耻地利用hashmap的O(n)的算法，原理和暴力搜索没有本质区别，只不过hashmap的搜索速度是O(1)。</p>
<pre><code>public int[] twoSum(int[] numbers, int target) {
    // Start typing your Java solution below
    // DO NOT write main() function

    HashMap&lt;Integer, Integer&gt; map = new HashMap&lt;Integer, Integer&gt;();

    int n = numbers.length;

    int[] result = new int[2];

    for (int i = 0; i &lt; numbers.length; i++) {
        if (map.containsKey(target - numbers[i])) {
            result[0] = map.get(target - numbers[i]) + 1;
            result[1] = i + 1;
            break;
        } else {
            map.put(numbers[i], i);
        }
    }

    return result;
}
</code></pre><p>后记：你的想法很独特嘛。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/article/数学和算法/表、栈和队列-数据结构与算法.html" itemprop="url">
                  表、栈和队列-数据结构与算法
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-04-07T00:20:36+08:00" content="2015-04-07">
              2015-04-07
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/数学和算法/" itemprop="url" rel="index">
                    <span itemprop="name">数学和算法</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/article/数学和算法/表、栈和队列-数据结构与算法.html#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="article/数学和算法/表、栈和队列-数据结构与算法.html" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          
             <span id="/article/数学和算法/表、栈和队列-数据结构与算法.html" class="leancloud_visitors" data-flag-title="表、栈和队列-数据结构与算法">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="第3章-表、栈和队列"><a href="#第3章-表、栈和队列" class="headerlink" title="第3章 表、栈和队列"></a>第3章 表、栈和队列</h2><h3 id="3-3-Java-Collection-API中的表"><a href="#3-3-Java-Collection-API中的表" class="headerlink" title="3.3 Java Collection API中的表"></a>3.3 Java Collection API中的表</h3><h4 id="3-3-1-Collection接口"><a href="#3-3-1-Collection接口" class="headerlink" title="3.3.1 Collection接口"></a>3.3.1 Collection接口</h4><h4 id="3-3-2-Iterator接口"><a href="#3-3-2-Iterator接口" class="headerlink" title="3.3.2 Iterator接口"></a>3.3.2 Iterator接口</h4><h4 id="3-3-3-List接口、ArrayList类和LinkedList类"><a href="#3-3-3-List接口、ArrayList类和LinkedList类" class="headerlink" title="3.3.3 List接口、ArrayList类和LinkedList类"></a>3.3.3 List接口、ArrayList类和LinkedList类</h4><h4 id="3-3-5关于ListIterator接口"><a href="#3-3-5关于ListIterator接口" class="headerlink" title="3.3.5关于ListIterator接口"></a>3.3.5关于ListIterator接口</h4><h3 id="3-4-ArrayList类的实现"><a href="#3-4-ArrayList类的实现" class="headerlink" title="3.4 ArrayList类的实现"></a>3.4 ArrayList类的实现</h3><ol>
<li>基本类</li>
<li>迭代其、Java嵌套类和内部类</li>
</ol>
<h3 id="3-5-LinkedList类的实现"><a href="#3-5-LinkedList类的实现" class="headerlink" title="3.5 LinkedList类的实现"></a>3.5 LinkedList类的实现</h3><h3 id="3-6-栈ADT"><a href="#3-6-栈ADT" class="headerlink" title="3.6 栈ADT"></a>3.6 栈ADT</h3><ol>
<li>栈模型</li>
<li>栈的实现</li>
<li>应用<ul>
<li>平衡符号</li>
<li>后缀表达式</li>
<li>方法调用</li>
</ul>
</li>
</ol>
<h3 id="3-7-队列ADT"><a href="#3-7-队列ADT" class="headerlink" title="3.7 队列ADT"></a>3.7 队列ADT</h3><ol>
<li>队列模型</li>
<li>队列的数组实现</li>
<li>队列的应用</li>
</ol>
<h3 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h3><blockquote>
<p>表、栈和队列或许是在全部计算机科学重视三个基本的数据结构，大量的例子证明了他们广泛的用途。 特别的，我们看到栈是如何用来<strong>记录过程</strong>和<strong>方法调用</strong>的，以及递归是如何实现的。这对我们的理解非常重要，其原因不只因为它使得过程语言成为可能，而且还因为知道递归的实现从而消除了围绕其使用的大量谜团。<br>–《教科书》</p>
</blockquote>
<h3 id="做课后习题"><a href="#做课后习题" class="headerlink" title="做课后习题"></a>做课后习题</h3>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/article/数学和算法/毕业设计/最初的想法.html" itemprop="url">
                  最初的想法
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-04-07T00:20:36+08:00" content="2015-04-07">
              2015-04-07
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/毕业设计/" itemprop="url" rel="index">
                    <span itemprop="name">毕业设计</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/article/数学和算法/毕业设计/最初的想法.html#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="article/数学和算法/毕业设计/最初的想法.html" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          
             <span id="/article/数学和算法/毕业设计/最初的想法.html" class="leancloud_visitors" data-flag-title="最初的想法">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>###一开始的时候想法很是丰富，</p>
<ul>
<li>网络抓取网站更新数量分析用户习惯，目标有开源中国和腾讯QQ（行为分析）</li>
<li>继续完善YoutubeAtChina，加入登陆系统（自娱自乐）</li>
<li>基层社区政策讨论匿名举报（为了更好的中国）</li>
<li>知识框架填充网站（优点是有全局性和指导意义）</li>
<li>视频推荐系统</li>
</ul>
<p>最后，决定做视频栏目汇总推荐系统。</p>
<hr>
<p>###提问：</p>
<ol>
<li><p>为什么要做这个网站呢？（意义和特点）</p>
<p>我们大部分人有时候会很无聊，除了学习工作之外可能还有一些其他娱乐，比如看优酷爱奇艺等，看视频是一种比较好的娱乐放松方式。比如我就很喜欢飞碟说，报告老板，万万没想到，暴走漫画等网络节目，这种节目有一个特点，那就是定时更新，而且呢，还在不同的地方。</p>
<p>那我就在想，可不可以做一个汇合呢？也就是我在一个页面就可以看到时间流排列的我喜欢的这些视频，显示顺序根据视频的更新时间排序。</p>
<p>嗯，方便自己爱看这种视频的需求，而且不用去很多网站去找。</p>
<p>这种视频的特点还有就是：每集连贯性不大，随时可以看。</p>
</li>
<li><p>还有什么值得优化和改进的地方？</p>
<p>很自然而然的，自己用爽了，肯定愿意让更多的人一起爽。那就不得不实行多人的策略。因为每个人的口味不一样，所以视频流也会不一样。根据什么呢，让用户按照自己喜好添加节目好了。这是一种策略。</p>
<p>另外，我们可以用另一种思路考虑，加入推荐系统，引导用户更容易的找到自己喜欢的东西。</p>
</li>
<li><p>那这个推荐系统的模型是什么？</p>
<p>根据知乎的一个问题，我找到了一个模型，认为很适合。<a href="http://www.zhihu.com/question/26743347" target="_blank" rel="external">网易云音乐的歌单推荐算法是怎样的？</a></p>
<p>里边主要提到了两个推荐模型，现取其中一个。其核心是数学中的“多维空间中两个向量夹角的余弦公式”。</p>
<p>回答记录摘抄如下：</p>
<blockquote>
<p>第一类，以人为本，先找到与你相似的人，然后看看他们买了什么你没有买的东西。这类算法最经典的实现就是“多维空间中两个向量夹角的余弦公式”；<br>第二类, 以物为本直接建立各商品之间的相似度关系矩阵。这类算法中最经典是’斜率=1’ (Slope One)。amazon发明了暴力简化的第二类算法，‘买了这个商品的人，也买了xxx’。</p>
<p>我们先来看看第一类，最大的问题如何判断并量化两人的相似性，思路是这样 –<br>例子：<br>有3首歌放在那里，《最炫民族风》，《晴天》，《Hero》。<br>A君，收藏了《最炫民族风》，而遇到《晴天》，《Hero》则总是跳过；<br>B君，经常单曲循环《最炫民族风》，《晴天》会播放完，《Hero》则拉黑了<br>C君，拉黑了《最炫民族风》，而《晴天》《Hero》都收藏了。</p>
<p>我们都看出来了，A,B二位品味接近，C和他们很不一样。<br>那么问题来了，说A，B相似，到底有多相似，如何量化？</p>
<p>我们把三首歌想象成三维空间的三个维度，《最炫民族风》是x轴，《晴天》是y轴，《Hero》是z轴，对每首歌的喜欢程度即该维度上的坐标，<br>并且对喜欢程度做量化(比如： 单曲循环=5, 分享=4, 收藏=3, 主动播放=2 , 听完=1, 跳过=-1 , 拉黑=-5 )。<br>那么每个人的总体口味就是一个向量，A君是 (3,-1,-1)，B君是(5,1,-5)，C君是(-5,3,3)。 (抱歉我不会画立体图)<br>我们可以用向量夹角的余弦值来表示两个向量的相似程度， 0度角(表示两人完全一致)的余弦是1， 180%角(表示两人截然相反)的余弦是-1。</p>
<p>根据余弦公式, 夹角余弦 = 向量点积/ (向量长度的叉积) = ( x1x2 + y1y2 + z1z2) / ( 跟号(x1平方+y1平方+z1平方 ) x 跟号(x2平方+y2平方+z2平方 ) )<br>可见 A君B君夹角的余弦是0.81 ， A君C君夹角的余弦是 -0.97 ，公式诚不欺我也。<br>以上是三维(三首歌)的情况，如法炮制N维N首歌的情况都是一样的。<br>假设我们选取一百首种子歌曲，算出了各君之间的相似值，那么当我们发现A君还喜欢听的《小苹果》B君居然没听过，相信大家都知道该怎么和B君推荐了吧。</p>
</blockquote>
<p>好，回到视频节目这边。同样，也是以人为本，首先选择1000个热门用户，然后随机选取100个为seed用户，模版用户（之所以不是全部用户比较是为了降低运算量，同时热门用户也代表了目标用户趋势），然后在用户第一次登录进系统的时候首先会推荐热门单，然后带用户选择之后就可以根据该用户与100个seed用户之间的相似度来进行推荐了。</p>
<p>用户热度：更多的是参与度。登录，关注节目数量，赞，踩，评论，看的视频数量等。</p>
</li>
</ol>
<ol>
<li><p>详细模型</p>
<ul>
<li>100个seed用户会更新</li>
<li>100个seed用户的关注不会完全一致，相同者取活跃度大的</li>
<li>用户可以添加视频列表，可以提出公共类，一点点实现增加支持的网站</li>
<li>用户随时可以关注视频列表</li>
<li>有最热视频榜单（被参与度最高）</li>
<li>…</li>
</ul>
</li>
</ol>
<hr>
<h2 id="目前在更视频列表："><a href="#目前在更视频列表：" class="headerlink" title="目前在更视频列表："></a>目前在更视频列表：</h2><ul>
<li>飞碟说</li>
<li>飞碟一分钟</li>
<li>报告老板</li>
<li>万万没想到</li>
<li>暴走大事件</li>
<li>神街坊</li>
<li>扑通扑通的良心</li>
<li>大学搜有聊</li>
<li>工大版《屌丝男士》</li>
<li>天天向上</li>
<li>我是歌手第3季</li>
<li>…</li>
</ul>
<h2 id="完结版处理"><a href="#完结版处理" class="headerlink" title="完结版处理"></a>完结版处理</h2><ul>
<li>推荐系统随机推荐</li>
<li>其他板块</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/article/知识记录/SpringBoot中读取YAML.html" itemprop="url">
                  SpringBoot中读取YAML
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-04-07T00:20:36+08:00" content="2015-04-07">
              2015-04-07
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/知识记录/" itemprop="url" rel="index">
                    <span itemprop="name">知识记录</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/article/知识记录/SpringBoot中读取YAML.html#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="article/知识记录/SpringBoot中读取YAML.html" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          
             <span id="/article/知识记录/SpringBoot中读取YAML.html" class="leancloud_visitors" data-flag-title="SpringBoot中读取YAML">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ol>
<li>在使用框架的时候，能用框架解决的使用框架解决。实在不能用框架解决的再考虑使用其他办法。</li>
</ol>
<ol>
<li>使用Spring注解填充信息的对象不可以自己实例化，应该使用注解（@Resource或这 @Autowired  ）实例化。</li>
</ol>
<hr>
<p>读取YAML步骤：</p>
<ol>
<li><p>在<code>application.yml</code>文件中，加入需要注入的信息：</p>
<pre><code>my:
    servers:
        - dev.bar.com
        - foo.bar.com
</code></pre></li>
<li><p>在需要注解信息的Java文件中进行以下注解：</p>
<pre><code>@Component(&quot;config&quot;)
@ConfigurationProperties(prefix = &quot;my&quot;)
public class Config {
    //@Value(&quot;my.servers&quot;) 
        //这一句完全不需要，无效。需要把该填充的数据放到`application.yml`即可！
    private List&lt;String&gt; servers = new ArrayList&lt;String&gt;();
    public List&lt;String&gt; getServers() {
        return this.servers;
    }
}
</code></pre></li>
<li><p>在需要引用的地方使用Spring注入（<code>@Resource</code>或这 <code>@Autowired</code>）实例化。</p>
</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/article/知识记录/JavaScript 中的回调函数.html" itemprop="url">
                  JavaScript 中的回调函数
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-04-07T00:20:36+08:00" content="2015-04-07">
              2015-04-07
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/知识记录/" itemprop="url" rel="index">
                    <span itemprop="name">知识记录</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/article/知识记录/JavaScript 中的回调函数.html#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="article/知识记录/JavaScript 中的回调函数.html" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          
             <span id="/article/知识记录/JavaScript 中的回调函数.html" class="leancloud_visitors" data-flag-title="JavaScript 中的回调函数">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>在Node.js中使用异步的方式读取一个文件：</p>
<pre><code>/**
 * Created by chen on 1月14日.
 */
var fs = require(&apos;fs&apos;);
fs.readFile(&apos;readfile.js&apos;,&apos;utf-8&apos;,function(err,data){
    if(err){
        console.error(err);
    }else{
        console.log(data);
    }
    console.log(&apos;21212123.&apos;)
});
console.log(&apos;end.&apos;);
</code></pre><p>运行结果如下：</p>
<pre><code>end.
/**
 * Created by chen on 1月14日.
 */
....
</code></pre><blockquote>
<p>基于多线程的模型也有相应的解决方案，如轻量级线程（<code>lightweight thread</code>）等。事件驱动的单线程异步模型与多线程同步模型到底谁更好是一件非常有争议的事情，因为尽管消耗资源，后者的吞吐率并不比前者低。</p>
</blockquote>
<p>Node.js也提供了同步读取文件的API：</p>
<pre><code>/**
 * Created by chen on 1月14日.
 */

/***另一种的读取方式***/
//readfilesync.js

var fs = require(&apos;fs&apos;);
var data =  fs.readFileSync(&apos;index.js&apos;,&apos;utf-8&apos;);
console.log(data);
console.log(&apos;end.&apos;);
</code></pre><p>运行结果与前面不同，如下所示：</p>
<pre><code>$ node readfilesync.js
Contents of the file.
end.
</code></pre><p>同步读取文件的方式比较容易理解，将文件名作为参数</p>
<p>同步式读取文件的方式比较容易理解，将文件名作为参数传入 <code>fs.readFileSync</code> 函数，阻塞等待读取完成后，将文件的内容作为函数的返回值赋给 <code>data</code> 变量，接下来控制台<br>输出 <code>data</code> 的值，最后输出 <code>end.</code> 。<br>异步式读取文件就稍微有些违反直觉了， <code>end.</code> 先被输出。要想理解结果，我们必须先知道在 <code>Node.js</code> 中，异步式 <code>I/O</code> 是通过回调函数来实现的。 <code>fs.readFile</code> 接收了三个参数，第一个是文件名，第二个是编码方式，第三个是一个函数，我们称这个函数为<strong>回调函数</strong>。<br><code>JavaScript</code> 支持匿名的函数定义方式，譬如我们例子中回调函数的定义就是嵌套在 <code>fs.readFile</code> 的参数表中的。这种定义方式在 <code>JavaScript</code> 程序中极为普遍。</p>
<p><code>fs.readFile</code> 调用时所做的工作只是将异步式 <code>I/O</code> 请求发送给了操作系统，然后立即返回并执行后面的语句，执行完以后进入事件循环监听事件。当 <code>fs</code> 接收到 <code>I/O</code> 请求完成的<br>事件时，事件循环会主动调用回调函数以完成后续工作。因此我们会先看到 <code>end.</code>，再看到<br><code>file.txt</code> 文件的内容。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/article/知识记录/IntelliJ Idea 常用快捷键列表.html" itemprop="url">
                  IntelliJ Idea 常用快捷键列表
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-04-07T00:20:36+08:00" content="2015-04-07">
              2015-04-07
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/知识记录/" itemprop="url" rel="index">
                    <span itemprop="name">知识记录</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/article/知识记录/IntelliJ Idea 常用快捷键列表.html#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="article/知识记录/IntelliJ Idea 常用快捷键列表.html" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          
             <span id="/article/知识记录/IntelliJ Idea 常用快捷键列表.html" class="leancloud_visitors" data-flag-title="IntelliJ Idea 常用快捷键列表">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><code>Alt+Enter</code> 导入包，自动修正<br><code>Ctrl+N</code>   查找类<br><code>Ctrl+Shift+N</code> 查找文件<br><code>Ctrl+Alt+L</code>  格式化代码<br><code>Ctrl+Alt+O</code> 优化导入的类和包<br><code>Alt+Insert</code> 生成代码(如get,set方法,构造函数等)<br><code>Ctrl+E</code>或者Alt+Shift+C  最近更改的代码<br><code>Ctrl+R</code> 替换文本<br><code>Ctrl+F</code> 查找文本<br><code>Ctrl+Shift+Space</code> 自动补全代码<br><code>Ctrl+空格</code> 代码提示<br><code>Ctrl+Alt+Space</code> 类名或接口名提示<br><code>Ctrl+P</code> 方法参数提示<br><code>Ctrl+Shift+Alt+N</code> 查找类中的方法或变量<br><code>Alt+Shift+C</code> 对比最近修改的代码</p>
<p><code>Shift+F6</code> 重构-重命名<br>Ctrl+Shift+先上键<br><code>Ctrl+X</code> 删除行<br><code>Ctrl+D</code> 复制行<br><code>Ctrl+/</code> 或 Ctrl+Shift+/ 注释（// 或者/<em>…</em>/ ）<br><code>Ctrl+J</code> 自动代码<br><code>Ctrl+E</code> 最近打开的文件<br><code>Ctrl+H</code> 显示类结构图<br><code>Ctrl+Q</code> 显示注释文档<br><code>Alt+F1</code> 查找代码所在位置<br><code>Alt+1</code> 快速打开或隐藏工程面板<br><code>Ctrl+Alt+ left/right</code> 返回至上次浏览的位置<br><code>Alt+ left/right</code> 切换代码视图<br><code>Alt+ Up/Down</code> 在方法间快速移动定位<br><code>Ctrl+Shift+Up/Down</code> 代码向上/下移动。<br><code>F2</code> 或<code>Shift+F2</code> 高亮错误或警告快速定位</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/article/知识记录/Java基础/Java5新特征之foreach语句使用总结.html" itemprop="url">
                  Java5新特征之foreach语句使用总结
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-04-07T00:20:36+08:00" content="2015-04-07">
              2015-04-07
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Java基础/" itemprop="url" rel="index">
                    <span itemprop="name">Java基础</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/article/知识记录/Java基础/Java5新特征之foreach语句使用总结.html#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="article/知识记录/Java基础/Java5新特征之foreach语句使用总结.html" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          
             <span id="/article/知识记录/Java基础/Java5新特征之foreach语句使用总结.html" class="leancloud_visitors" data-flag-title="Java5新特征之foreach语句使用总结">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="Java5新特征之foreach语句使用总结"><a href="#Java5新特征之foreach语句使用总结" class="headerlink" title="Java5新特征之foreach语句使用总结"></a>Java5新特征之foreach语句使用总结</h3><p><code>java.util.List</code>继承了<code>java.lang.Iterable</code>接口.</p>
<p>jdk api文档中是这样描述Iterable接口的：实现这个接口允许对象成为 “<code>foreach</code>“ 语句的目标。不过咋一看Iterable接口并没啥特别之处，只是定义了一个迭代器而已。</p>
<p>  public interface Iterable&lt;T&gt; {</p>
<pre><code>/**
* Returns an iterator over a set of elements of type T.
*
* @return an Iterator.
*/
Iterator&amp;lt;T&gt; iterator();
</code></pre><p>  }</p>
<p>究竟是如何实现foreach的呢，想想可能是编译器做了优化，就看了下最终编译成的字节码</p>
<p>  public class Iterable_eros {</p>
<p> List&lt;String&gt; strings;</p>
<p> public void display(){</p>
<p> for(String s : strings){</p>
<p> System.out.println(s);</p>
<p> }</p>
<p> }</p>
<p>  }</p>
<p>相应的字节码为：</p>
<p>  public void display (){<br>  line0  : aload_0<br>       getfield java.util.List my.lang.Iterable_eros.strings<br>       invokeinterface java.util.Iterator java.util.List.iterator() 1<br>       astore_2<br>       goto line30<br>  line13  : aload_2<br>       invokeinterface java.lang.Object java.util.Iterator.next() 1<br>       checkcast java.lang.String<br>       astore_1<br>  line23  : getstatic java.io.PrintStream java.lang.System.out<br>       aload_1<br>  line27  : invokevirtual void java.io.PrintStream.println(java.lang.String)<br>  line30  : aload_2<br>       invokeinterface boolean java.util.Iterator.hasNext() 1<br>       ifne line13<br>  line39  : return </p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/article/知识记录/Java基础/Java读取文本文件.html" itemprop="url">
                  Java读取文本文件
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-04-07T00:20:36+08:00" content="2015-04-07">
              2015-04-07
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Java基础/" itemprop="url" rel="index">
                    <span itemprop="name">Java基础</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/article/知识记录/Java基础/Java读取文本文件.html#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="article/知识记录/Java基础/Java读取文本文件.html" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          
             <span id="/article/知识记录/Java基础/Java读取文本文件.html" class="leancloud_visitors" data-flag-title="Java读取文本文件">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Java IO系统里读写文件使用Reader和Writer两个抽象类，Reader中read()和close()方法都是抽象方法。Writer中 write()，flush()和close()方法为抽象方法。子类应该分别实现他们。<br>Java IO已经为我们提供了三个方便的Reader的实现类，FileReader,InputStreamReader和BufferedReader。其中最重要的类是InputStreamReader， 它是字节转换为字符的桥梁。你可以在构造器重指定编码的方式，如果不指定的话将采用底层操作系统的默认编码方式，例如<code>GBK</code>等。</p>
<h3 id="FileReader读txt文件例子"><a href="#FileReader读txt文件例子" class="headerlink" title="FileReader读txt文件例子"></a>FileReader读txt文件例子</h3><pre><code>@Test
public void readByFileReader() throws IOException {
    try (FileReader reader = new FileReader(file)) {
        int ch = 0;
        while ((ch = reader.read()) != -1) {
            System.out.print((char) ch);
        }
    }
}
</code></pre><p>其中read()方法返回的是读取得下个字符。<br>读取 3608 行数据耗时 <strong>2.075</strong>s</p>
<h3 id="InputStreamReader读txt文件例子"><a href="#InputStreamReader读txt文件例子" class="headerlink" title="InputStreamReader读txt文件例子"></a>InputStreamReader读txt文件例子</h3><pre><code>@Test
public void readByBufferedReader() throws IOException {
    try (BufferedReader bufferedReader = new BufferedReader(new FileReader(
            file))) {
        String lineTxt = null;
        while ((lineTxt = bufferedReader.readLine()) != null) {
            System.out.println(lineTxt);
        }
    }
}
</code></pre><p>读取 3608 行数据耗时 <strong>0.174</strong>s</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/article/知识记录/YAML格式简介.html" itemprop="url">
                  YAML格式简介
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-04-07T00:20:36+08:00" content="2015-04-07">
              2015-04-07
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/知识记录/" itemprop="url" rel="index">
                    <span itemprop="name">知识记录</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/article/知识记录/YAML格式简介.html#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="article/知识记录/YAML格式简介.html" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          
             <span id="/article/知识记录/YAML格式简介.html" class="leancloud_visitors" data-flag-title="YAML格式简介">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1-概念"><a href="#1-概念" class="headerlink" title="1. 概念"></a>1. 概念</h2><p>YAML是一种人们可以轻松阅读的数据序列化格式，并且它非常适合对动态编程语言中使用的数据类型进行编码。YAML是<code>YAML Ain&#39;t Markup Language</code>简写，和GNU(“GNU’s Not Unix!”)一样，YAML是一个递归着说“不”的名字。不同的是，GNU对UNIX说不，YAML说不的对象是XML。YAML不是XML。它可以用作数据序列，配置文件，log文件，Internat信息和过滤。</p>
<h2 id="2-优点"><a href="#2-优点" class="headerlink" title="2. 优点"></a>2. 优点</h2><ul>
<li>YAML的可读性好</li>
<li>YAML和脚本语言的交互性好</li>
<li>YAML使用实现语言的数据类型</li>
<li>YAML有一个一致的信息模型</li>
<li>YAML易于实现</li>
</ul>
<h2 id="3-YAML的适用范围"><a href="#3-YAML的适用范围" class="headerlink" title="3. YAML的适用范围"></a>3. YAML的适用范围</h2><p>由于实现简单，解析成本很低，YAML特别适合在脚本语言中使用。列一下现有的语言实现：Ruby，Java，Perl，Python，PHP，OCaml，JavaScript。除了Java，其他都是脚本语言.<br>YAML比较适合做序列化。因为它是宿主语言数据类型直转的。<br>YAML做配置文件也不错。比如Ruby on Rails的配置就选用的YAML。对ROR而言，这很自然，也很省事。<br><strong>由于兼容性问题，不同语言间的数据流转建议现在不要用YAML.</strong></p>
<h2 id="4-YAML不足"><a href="#4-YAML不足" class="headerlink" title="4. YAML不足"></a>4. YAML不足</h2><p>YAML和XML不同，没有自己的数据类型的定义，而是使用实现语言的数据类型。这一点，有可能是出奇制胜的地方，也可能是一个败笔。如果兼容性保证的不好的话，YAML数据在不同语言间流转会有问题。<br>假如兼容性没问题的话，YAML就太完美了。<strong>轻巧，敏捷，高效，简便，通用</strong>。</p>
<h2 id="5-JYaml简介"><a href="#5-JYaml简介" class="headerlink" title="5. JYaml简介"></a>5. JYaml简介</h2><p><strong><code>JYAML</code></strong>是<code>YAML</code>的<code>Java</code>实现。<br>YAML使用实现语言的数据类型。我们看一下一些JYaml支持的Java数据类型：<br>原始数据和封装类（比如int，java.lang.Integer）<br>JavaBean兼容对象（Structure支持）<br>Collection （sequence支持）<br>List<br>Set<br>Map （map支持）<br>Arrays （sequence支持）<br>BigInteger 和BigDecimal<br>Date<br>注：我把我个人认为较好的文章推荐如下，方便我们共同学习和交流。<br>参考文献：<br>1 《YAML 简介》 <a href="http://www.ibm.com/developerworks/cn/xml/x-cn-yamlintro/index.html" target="_blank" rel="external">http://www.ibm.com/developerworks/cn/xml/x-cn-yamlintro/index.html</a><br>2 《YAML 对 XML 的改进》<a href="http://www.ibm.com/developerworks/cn/xml/x-matters/part23/" target="_blank" rel="external">http://www.ibm.com/developerworks/cn/xml/x-matters/part23/</a><br>3 <a href="http://jyaml.sourceforge.net/" target="_blank" rel="external">http://jyaml.sourceforge.net/</a><br>4 <a href="http://www.yaml.org/" target="_blank" rel="external">http://www.yaml.org/</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/article/知识记录/Java基础/String相关类对比2.html" itemprop="url">
                  String相关类对比2
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-04-07T00:20:36+08:00" content="2015-04-07">
              2015-04-07
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Java基础/" itemprop="url" rel="index">
                    <span itemprop="name">Java基础</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/article/知识记录/Java基础/String相关类对比2.html#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="article/知识记录/Java基础/String相关类对比2.html" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          
             <span id="/article/知识记录/Java基础/String相关类对比2.html" class="leancloud_visitors" data-flag-title="String相关类对比2">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>String的值是不可变的，这就导致每次对String的操作都会生成新的String对象，不仅效率低下，而且大量浪费有限的内存空间,StringBuffer是可变类，和线程安全的字符串操作类，任何对它指向的字符串的操作都不会产生新的对象,StringBuffer和StringBuilder类功能基本相似.   </p>
<h3 id="1-String-类"><a href="#1-String-类" class="headerlink" title="1. String 类"></a>1. String 类</h3><p>String的值是不可变的，这就导致每次对String的操作都会生成新的String对象，不仅效率低下，而且大量浪费有限的内存空间。   </p>
<pre><code>String a = &quot;a&quot;; //假设a指向地址0x0001 
a = &quot;b&quot;;//重新赋值后a指向地址0x0002，但0x0001地址中保存的&quot;a&quot;依旧存在，但已经不再是a所指向的,a 已经指向了其它地址。 
</code></pre><p>因此String的操作都是改变赋值地址而不是改变值操作。 </p>
<h3 id="2-StringBuffer-类"><a href="#2-StringBuffer-类" class="headerlink" title="2. StringBuffer 类"></a>2. StringBuffer 类</h3><p>StringBuffer是可变类，和线程安全的字符串操作类，任何对它指向的字符串的操作都不会产生新的对象。 每个StringBuffer对象都有一定的缓冲区容量，当字符串大小没有超过容量时，不会分配新的容量，当字符串大小超过容量时，会自动增加容量。 </p>
<pre><code>StringBuffer buf=new StringBuffer(); //分配长16字节的字符缓冲区 
StringBuffer buf=new StringBuffer(512); //分配长512字节的字符缓冲区 
StringBuffer buf=new StringBuffer(&quot;this is a test&quot;)//在缓冲区中存放了字符串，并在后面预留了16字节的空缓冲区。 
</code></pre><h3 id="3-StringBuffer"><a href="#3-StringBuffer" class="headerlink" title="3.StringBuffer"></a>3.StringBuffer</h3><p>StringBuffer和StringBuilder类功能基本相似，主要区别在于StringBuffer类的方法是多线程、安全的，而StringBuilder不是线程安全的，相比而言，StringBuilder类会略微快一点。对于经常要改变值的字符串应该使用StringBuffer和StringBuilder类。 </p>
<h3 id="4-线程安全"><a href="#4-线程安全" class="headerlink" title="4.线程安全"></a>4.线程安全</h3><ul>
<li>StringBuffer 线程安全   </li>
<li>StringBuilder 线程不安全 </li>
</ul>
<h3 id="5-速度"><a href="#5-速度" class="headerlink" title="5.速度"></a>5.速度</h3><p>一般情况下,速度从快到慢:<strong>StringBuilder&gt;StringBuffer&gt;String</strong>,这种比较是相对的，不是绝对的。 </p>
<h3 id="6-总结"><a href="#6-总结" class="headerlink" title="6.总结"></a>6.总结</h3><p>（1）.如果要操作少量的数据用 = String<br>（2）.<strong>单线程</strong>操作字符串缓冲区 下操作大量数据 = StringBuilder<br>（3）.<strong>多线程</strong>操作字符串缓冲区 下操作大量数据 = StringBuffer </p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/5/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/bird2.png"
               alt="Coder_Roc" />
          <p class="site-author-name" itemprop="name">Coder_Roc</p>
          <p class="site-description motion-element" itemprop="description">关注技术趋势，服务端技术细节，Java语言，技术热点等，关注思维和最佳实践。</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">58</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">10</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">78</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/cshijiel" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/cshijiel" target="_blank" title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  Weibo
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.zhihu.com/people/cshijiel" target="_blank" title="Zhihu">
                  
                    <i class="fa fa-fw fa-bookmark"></i>
                  
                  Zhihu
                </a>
              </span>
            
          
        </div>

        
        

        
        
        <div class="weibo-show">
          <iframe width="100%" height="350" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=350&fansRow=2&ptype=1&speed=0&skin=5&isTitle=0&noborder=0&isWeibo=1&isFans=0&uid=1343748654&verifier=8a8120bb&dpc=1"></iframe>
        </div>

      </section>

      


    </div>

  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2014 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Coder_Roc</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.1"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"usee"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
      
      <script src="/vendors/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
      <script src="/js/src/hook-duoshuo.js"></script>
    
  





  
  
  
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
  </script>

  <script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for (i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
      }
    });
  </script>
  <script type="text/javascript" src="//mathjax.josephjctang.com/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>


  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
  <script>AV.initialize("4zfuNQmoeSA4vpznpvoFSsaU-gzGzoHsz", "vk0EjSiTyqtCRKd1Kx2NkuG7");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

</body>
</html>
